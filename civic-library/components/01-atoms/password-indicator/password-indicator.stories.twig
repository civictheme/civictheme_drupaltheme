{% set password_indicator_settings = [
  'data-password-indicator-setting-short-text="Your password is too short"',
  'data-password-indicator-setting-lower-text="Your password needs lowercase letters"',
  'data-password-indicator-setting-upper-text="Your password needs uppercase letters"',
  'data-password-indicator-setting-number-text="Your password needs numbers"',
  'data-password-indicator-setting-punctuation-text="Your password needs punctuation"',
  'data-password-indicator-setting-username-text="Your password is the same as your username"',
  'data-password-indicator-setting-weak-text="Your password is very weak"',
  'data-password-indicator-setting-fair-text="Your password is so-so"',
  'data-password-indicator-setting-good-text="Your password is good"',
  'data-password-indicator-setting-great-text="Your password is great"',
  'data-password-indicator-setting-weakness-text="Your password has weaknesses"',
  'data-password-indicator-setting-short="true"',
  'data-password-indicator-setting-lower="true"',
  'data-password-indicator-setting-upper="true"',
  'data-password-indicator-setting-number="true"',
  'data-password-indicator-setting-punctuation="true"',
  'data-password-indicator-setting-username="true"',
  'data-password-indicator-setting-min-count="12"',
]|join(' ') %}

{% set username_input %}
  {% include '@atoms/input/input.twig' with {
    theme: theme,
    type: 'text',
    attributes: 'data-password-indicator-username data-password-indicator-group="a"',
  } only %}
{% endset %}
{% set password_input %}
  {% include '@atoms/input/input.twig' with {
    theme: theme,
    type: 'password',
    attributes: 'data-password-indicator data-password-indicator-group="a" ' ~ password_indicator_settings,
  } only %}
{% endset %}
{% set confirm_input %}
  {% include '@atoms/input/input.twig' with {
    theme: theme,
    type: 'password',
    attributes: 'data-password-indicator-confirmation data-password-indicator-group="a"',
  } only %}
{% endset %}

{% set fieldset_children %}
  {% include '@organisms/form-element/form-element.twig' with {
    theme: theme,
    label: 'Username',
    label_display: 'before',
    children: [username_input],
  } only %}
  {% include '@organisms/form-element/form-element.twig' with {
    theme: theme,
    label: 'Password',
    label_display: 'before',
    children: [password_input],
  } only %}
  {% include '@organisms/form-element/form-element.twig' with {
    theme: theme,
    label: 'Confirm Password',
    label_display: 'before',
    children: [confirm_input],
  } only %}
{% endset %}

{% include '@organisms/fieldset/fieldset.twig' with {
  theme: theme,
  legend: 'Change Password',
  children: [fieldset_children],
} only %}
